#!/bin/bash

set -e

case "$1" in
    "test"|"t")
        echo "Building and running tests..."
        make test
        ;;
    "windows"|"win"|"w")
        echo "Building Windows executable..."
        make windows
        echo "✓ Built arbitrageur.exe"
        ;;
    "debug"|"d"|"")
        echo "Building debug version..."
        make debug
        echo "✓ Built arbitrageur (debug)"
        ;;
    "release"|"r")
        echo "Building release version..."
        make release
        echo "✓ Built arbitrageur (release)"
        ;;
    "clean"|"c")
        echo "Cleaning build files..."
        make clean
        echo "✓ Cleaned"
        ;;
    "all"|"a")
        echo "Building all targets..."
        make clean
        make debug
        make test
        make windows
        echo "✓ Built all targets"
        ;;
    *)
        echo "Usage: $0 [test|windows|debug|release|clean|all]"
        echo "  test/t     - Build and run tests"
        echo "  windows/w  - Build Windows .exe"
        echo "  debug/d    - Build Linux debug (default)"
        echo "  release/r  - Build Linux release"
        echo "  clean/c    - Clean build files"
        echo "  all/a      - Build everything"
        ;;
esac
